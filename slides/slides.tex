\documentclass{beamer}
\usepackage[utf8]{inputenc}
\usepackage{hyperref}
\usepackage{verbatim}
\usepackage{listings}

\usetheme{Warsaw}

\title{Programmer en Python}
\author{A. Miniussi}
\institute{Observatoire de la Côte d'Azur}

\begin{document}

\begin{frame}
  \titlepage
\end{frame}

\begin{frame}{Objectifs}
  Être capables de développer et de maintenir de façon collaborative une application d'analyse de données biologique Python.
  
  \begin{itemize}
  \item Introduction au langage Python.
  \item Principes de programmation.
  \item Développement collaboratif.
  \item Application à la bio\-informatique. 
  \end{itemize}
\end{frame}

\begin{frame}{Prérequis}
  Aucun prérequis en matière de programmation.
  
  \begin{itemize}
  \item Être capable de survivre sous Linux en mode ligne de commande.
  \item Savoir utiliser un éditeur de texte.
  \end{itemize}
\end{frame}

\begin{frame}{À savoir}
  \begin{itemize}
  \item Très peu de slides: Python et GIT disposent de beaucoup de ressources (pédagogiques, références) auxquelles nous renverrons autant que possible.
  \item Basé sur l'exemple et les travaux pratique: il faudra coder, écrire, collaborer.
  \item Non exhaustif.
  \end{itemize}
\end{frame}

\begin{frame}{Python Origin's}
  Crée à la fin des années 80 par {\em Guido Van Rossum pour}, pour faire autre chose, pendant ses vacances de Noël.
  \begin{itemize}
  \item Initié aux Pays-Bas dans le cadre du projet Amobea (mort en 1996)...
  \item ..puis au CNRI, puis à BeOpen, puis à la Python Software Foundation.
  \end{itemize}
\end{frame}

\begin{frame}{Des raisons du succès}
  Initié comme langage de script, Python promeut favorise avant tout la facilité et le confort d'utilisation.
  \begin{itemize}
  \item La plupart des librairies ``connues'' possède une interface Python.
  \item Il est facile de ``bricoler'' un script qui vous passe par la tête.
  \item Le langage offre {\em une} façon, facile à retenir, de faire les choses.
  \item La documentation fait très souvent référence au \href{https://en.wikipedia.org/wiki/Monty_Python\%27s_Flying_Circus}{Monty Python's Flying Circus}.
  \item ...
  \end{itemize}
\end{frame}

\begin{frame}{les inconvénients}
  Dépendent de vos attentes.
  \begin{itemize}
  \item Fait peu de de cas de la compatibilité ascendante $\rightarrow$ portabilité déplorable.
  \item Ne se considère pas responsable des performances d'exécution...
    \begin{itemize}
    \item qui sont rarement critiques,
    \item et souvent plus subtiles que prévues. 
    \end{itemize}
  \item Promeut parfois l'idée que développer est une activité facile.
  \end{itemize}
\end{frame}

\begin{frame}{Gestion de version}
  Si un code n'est pas appelé à évoluer, il ne mérite probablement pas d'être écrit.
  \begin{itemize}
  \item {\bf Versionnage}: Besoin de garder un trace de son travail.
  \item {\bf Travail collaboratif}: Besoin de travailler ensembles sans se marcher sur les pieds.
  \end{itemize}
  Les outils aident (beaucoup), mais ne dispensent pas de méthodologie.
\end{frame}

\begin{frame}{GIT}
  Un ``stupide pisteur de contenu'' initialement créé par Linus Torvalds, rendu utilisable par de fidèles disciples.\linebreak
  Peut signifier, selon l'humeur:
  \begin{itemize}
  \item Un ATL prononçable, libre, que l'on peut prononcer incorrectement ``get'', ce qui peut avoir un sens. Ou pas.
  \item En argot anglais, peut signifier odieux, stupide, méprisable, simplet... quelque chose de clairement péjoratif.
  \item {\bf{G}}lobal {\bf{I}}nformation {\bf{T}}racker, quand tout va bien.
  \item {\bf{G}}oddamn {\bf{I}}diotic {\bf{T}}ruckload of sh*t, quand tout va moins bien.
  \end{itemize}
  ``I'm an egotistical bastard, and I name all my projects after myself. First 'Linux', now 'git'.''
\end{frame}

\begin{frame}{Pourquoi GIT?}
  Parce que!
  \begin{itemize}
  \item Décentralisé, ce qui peut être déroutant pour les non-initiés.
  \item Rapide, ce qui peut être utile pour les gros projets.
  \item Assez complexe, ce qui peut être frustrant pour des configuration simple.
  \item Réputé ne pas se mettre en travers de la route.
  \item Peut s'interfacer avec d'autres systèmes.
  \end{itemize}
\end{frame}

\begin{frame}{Autour de GIT}
  GIT supporte plusieurs modèles de développement, et offre parfois des outils associés.
  \begin{itemize}
  \item Le {\em modèle dictatorial} (exemple: Linux), modèle pyramidal où chaque membre fait confiance à un nombre restreint de sous-fifres.
  \item Le modèle collaboratif, à base de ``pull requests'', mis en œuvre par GITHub notamment.
  \item Le modèle ``moi et mon laptop''.
  \end{itemize}
\end{frame}

\begin{frame}{L'interprète}
(ou {\em interpréteur} en franglais)

La {\em commande} {\bf python} permet d'interpréter du {\em code} {\bf Python}, au même titre que la commande {\bf perl} permet d'exécuter du code {\bf Perl} etc.. 
\note{Lancer la commande, regarder la version, comment sortir, trouver sur le web comment sortir).

On parle alors de mode {\em interactif}.

On peut s'en servir pour effectuer des essais, ou comme calculateur.

Ex: trouver comment lancer le mode interactif en partant de google/qwant/duckduckgo etc..  pour arriver sur la partie tutoriel Python-2.7 (\url{https://docs.python.org/2.7/tutorial/index.html}})

\note{Import this}

\end{frame}

\begin{frame}{Quelques types de base}

  Python propose les types de base usuels, même si ce n'est pas un langage de numéricien.
  \begin{itemize}
  \item Un type flottant, un type entier...
  \item ... définis comme étant le type ``naturel'' de la machine.
  \item Supporte les 4 opération de base, les exposant, le parenthésage..
  \end{itemize}
  Exercices:
  \begin{itemize}
  \item Évaluer des expressions, mélanger les types.
  \item Types complexes ?
  \item Diviser par zéro.
  \item Afficher $0.1$, l'ajouter à $0.2$
  \item Utiliser des variables à la place des littéraux
  \end{itemize}
\end{frame}

\begin{frame}[fragile]\frametitle{Chaînes de caractères}
  \begin{itemize}
  \item Séquence de caractères entres {\verb|'simple quotte'|} ou {\verb|"double quottes"|}
  \item Peuvent être affichées avec {\verb|print|}.
  \item On peut afficher de longues chaînes sur plusieurs ligne, ou mettre des retour à la ligne dans une chaîne.
  \end{itemize}
  \note{tester, observer le rôle de print}
  \note{essayer les accents}
  Exercices:
  \begin{itemize}
  \item Expliquer \verb|machin[1:3]|
  \item Utiliser les opérateurs + et * avec des chaînes et des entiers.
    \note{index négatifs}
  \end{itemize}
\end{frame}

\begin{frame}[fragile]\frametitle{Listes}
  La structure de donnée reine de Python.
  \begin{itemize}
  \item \verb|[3, 5, 7, 11, 13, 17]|
  \item \verb|['banana', 'grapefruit', 'strawberry', 'lemon']|
  \item \verb|[3, 'banana', 5, 3.14 ]|
  \item \verb|[[3, 4, 5], ['strawberry', 'lemon']]|
  \end{itemize}
  Exercice:
  \begin{itemize}
  \item ``Additionner'' deux liste
  \item Extraire des sous listes.
  \item Remplacer un élément.
  \item Remplacer une sous-liste.
  \item Obtenir la longueur d'un liste.
  \end{itemize}
\end{frame}

\begin{frame}[fragile]\frametitle{Conditions}
  Un algorithme doit faire des choix.
  
  \lstinputlisting[language=Python, firstline=2]{../examples/terre_plate1.py}

  Pour cela on a besoin d'un notion de vrai et de faux représentées en programmation par la notion d'expression booléenne.
  \begin{itemize}
    \item Une expression booléenne peut avoir deux valeur: \verb|True| et \verb|False|.
    \item Résultat d'une comparaison (\verb|>, <, ==, !=, >=, <=|)
    \item ... ou d'une conversion (nombres, liste etc..), éventuellement explicite: {\bf bool(}\verb|<expr>|{\bf{)}}.
  \end{itemize}
  Exercice: tester des expressions: entiers, réels, liste...
\end{frame}

\begin{frame}[fragile]\frametitle{Premières boucles}
  \center{\fbox{\lstinputlisting[language=Python]{../examples/nfirst.py}}}
  
  Exercices:
  \begin{itemize}
  \item Écrire les 10 premiers cubes.
  \item Écrire les premiers éléments de la suite de Fibonacci.
  \end{itemize}
\end{frame}

\begin{frame}[fragile]\frametitle{Premier programme}
  \begin{columns}
    \column{0.4\textwidth}
    Dans le fichier {\it fibo.py}:\newline
    \fbox{\lstinputlisting[language=Python]{../examples/fibo1.py}}
    \column{0.4\textwidth}
    À exécuter avec:
    \fbox{\lstinputlisting{../examples/fibo1.txt}}
  \end{columns}
\end{frame}

\begin{frame}[fragile]\frametitle{Premier programme autonome}
  On souhaite exécuter le programme directement:
  \begin{itemize}
  \item Il doit être exécutable.
  \end{itemize}
  \fbox{\lstinputlisting{../examples/fibo2_1.txt}}
\end{frame}

\begin{frame}[fragile]\frametitle{Premier programme autonome}
  Il faut également préciser comment il doit être exécuté:
  \fbox{\lstinputlisting{../examples/fibo2_2.txt}}

  On préférera la ligne \href{https://en.wikipedia.org/wiki/Shebang_(Unix)}{shebang} suivante:
\begin{verbatim}
!#/usr/bin/env python
\end{verbatim}
\end{frame}

\begin{frame}{Arguments}
  On souhaite pouvoir préciser combien de nombre de Fibonacci le programme affichera.

  Exercice: Retrouver la documentation concernant l'invocation de l'interprète, un indice s'y trouve peut-être.
  
  Exercice: Modifier le programme pour que l'on puisse lui transmettre ce nombre. 
\end{frame}

\begin{frame}{GIT, phase d'approche}
  Une première utilisation, minimaliste, de {\bf git} consiste à s'en servir de versionnage local.
  \begin{itemize}
  \item On empille les versions, mais sans avoir à gérer une plétore de copies.
  \item en cas de problèmes, on peut retrouver n'importe quelle version.
  \end{itemize}
  Documentations:
  \begin{itemize}
  \item Sur le web: \url{https://git-scm.com/doc}
  \item En ligne de commande: {\tt git help}
  \end{itemize}
\end{frame}

\begin{frame}{Premier dépôt}
  Exercice: créer un dépôt local pour gérer l'évoltion des codes développés pendant la formation.
  \begin{itemize}
  \item {\tt git help init}
  \item {\tt git help add}
  \item {\tt git help commit}
  \item {\tt git help checkout}
  \end{itemize}
\end{frame}

\end{document}
